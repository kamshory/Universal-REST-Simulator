METHOD=GET

PATH=/test-get/{[SUBJECT]}/{[ACTION]}/{[ID]}

REQUEST_TYPE=application/x-www-form-urlencoded

RESPONSE_TYPE=text/plain

PARSING_RULE=$INPUT.AAA=$URL.ACTION\
$INPUT.DDD=$URL.SUBJECT\
$INPUT.CCC=$REQUEST.ACTION\
$INPUT.BBB=$URL.ID\
$INPUT.BROWSER=$HEADER.USER_AGENT

TRANSACTION_RULE=\
{[IF]} (TRUE)\
{[THEN]}\
$OUTPUT.CALLBACK_DELAY=30000\
$OUTPUT.CALLBACK_URL=http://sepulsa-adapter:8080/sepulsa/process-callback\
$OUTPUT.CALLBACK_METHOD=POST\
$OUTPUT.CALLBACK_TYPE=application/json\
$OUTPUT.CALLBACK_HEADER=\
X-Server-Name: Universal REST Simulator\
X-Response-Code: 00\
X-Response-Text: Success\
$OUTPUT.CALLBACK_BODY={"serial_number":null,"transaction_id":"415166","type":"pdam","created":"1637913812","changed":"1637913812","customer_number":"1998700016","product_id":"87","order_id":"INV-047423","status":"failed","price":"60700","response_code":"51","amount":"59500","data":{"message":"Invalid Inquiry"},"token":null,"operator_code":"pdam"}\
$OUTPUT.STATUS=200 OK\
$OUTPUT.BODY=SUBJECT = $INPUT.DDD | ACTION1 = $INPUT.AAA, ACTION2 = $INPUT.CCC, TRANSACTION ID = $INPUT.BBB\
USER AGENT = $INPUT.BROWSER\
{[ENDIF]}\