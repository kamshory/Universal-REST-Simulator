PATH=/universal-simulator/sepulsa/v3/transaction/pkb/{[TRANSACTION_ID]}

METHOD=GET

REQUEST_TYPE=applicatiom/x-www-form-urlencoded

RESPONSE_TYPE=application/json

PARSING_RULE=\
$INPUT.TRANSACTION_ID=$REQUEST.TRANSACTION_ID

TRANSACTION_RULE=\
{[IF]} ($INPUT.TRANSACTION_ID != "")\
{[THEN]}\
$STATUS=200\
$OUTPUT.DELAY=0\
$OUTPUT.HEADER=X-Server-Name: Universal REST Simulator\
$OUTPUT.BODY={\
  "changed": "$DATE('U')",\
  "transaction_id": 1,\
  "response_code": "00",\
  "customer_id": "9812300001231001",\
  "order_id": "ORDER-001",\
  "amount": 450000,\
  "price": 452500,\
  "created": "$DATE('U')",\
  "reference_no": "5534766982981118",\
  "product": {\
    "code": "335",\
    "label": "PKB Jawa Barat",\
    "product_type": "pkb",\
    "operator": "PKB Jawa Barat",\
    "nominal": 0\
  },\
  "data": {\
    "customer": {\
      "name": "WISHNU EKA SIDHARTA",\
      "identity_number": "981234567890123123",\
      "address": "Simpang Tambora I/9",\
      "last_date_previous_tax": "20190330",\
      "last_date_new_tax": "20200402"\
    },\
    "vehicle": {\
      "identity_number": "MH98JK123LO456JKI78901231",\
      "engine_number": "KJ92319LO456JKI78LO901231",\
      "registration_number": "N 123 ABC",\
      "license_plate_color": "Black",\
      "ownership": "2",\
      "category": "Motor cycle",\
      "brand": "Honda",\
      "model": "Motor cycle",\
      "manufacture_year": "2014"\
    },\
    "bill_amount": 450000,\
    "admin_charge": 2500,\
    "bill": {\
      "bbn_amount": 100000,\
      "bbn_penalty_fee": 2000,\
      "pkb_amount": 150000,\
      "pkb_penalty_fee": 2000,\
      "swd_amount": 35000,\
      "swd_penalty_fee": 1000,\
      "stnk_admin_charge": 100000,\
      "tnkb_admin_charge": 60000,\
      "total_penalty_fee": 5000,\
      "total_amount": 445000\
    },\
    "info_text": "",\
    "reference_no": "40999944535"\
  }\
}\
{[ENDIF]}\
{[IF]} (true)\
{[THEN]} $OUTPUT.DELAY=0\
$OUTPUT.BODY=\
{\
  "response_code": "20",\
  "product": {\
    "code": "265",\
    "product_type": "pkb",\
    "label": "PKB Jakarta",\
    "operator": "PKB Jakarta",\
    "nominal": 0\
  },\
  "customer_id": "$INPUT.CUSTOMER_ID",\
  "amount": 0\
}\
{[ENDIF]}\


